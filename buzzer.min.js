!function(t){"use strict";function e(){this.ctx=null,this.muted=!1,this.vol=1,this.state=n.Constructed}function i(t){o.setup(),this.id=Math.round(Date.now()*Math.random()),this.src=t.src,this.volume=t.volume||1,this.buffer=null;var e=o.context();this.gain=e.createGain(),this.gain.connect(o.gain),this.gain.gain.value=this.volume,this.loaded=!1}var n={Constructed:0,Ready:1,Done:2};e.prototype.setup=function(e){this.state===n.Constructed&&(this.ctx=e||new t,this.gain=this.ctx.createGain(),this.gain.gain.value=this.vol,this.gain.connect(this.ctx.destination),this.state=n.Ready)},e.prototype.volume=function(t){return this.vol=t,this.gain.value=this.vol,this.gain.value},e.prototype.mute=function(){this.muted||(this.gain.gain.value=0,this.muted=!0)},e.prototype.unmute=function(){this.muted&&(this.gain.gain.value=this.vol,this.muted=!1)},e.prototype.tearDown=function(){this.state=n.Done},e.prototype.context=function(){return this.ctx},e.prototype.isMuted=function(){return this.muted};var o=new e,s={};i.prototype.load=function(t,e){if(this.loaded)return void t.call(this,this.buffer);if(s.hasOwnProperty(this.src))return this.buffer=s[this.src],void t.call(this,this.buffer);var i=new XMLHttpRequest,n=this;i.open("GET",this.src,!0),i.responseType="arraybuffer",i.addEventListener("load",function(){o.context().decodeAudioData(i.response,function(e){s[n.src]=e,n.buffer=e,n.loaded=!0,t.call(n,n.buffer)},e)}),i.addEventListener("error",e),i.send()},i.prototype.play=function(t,e){var i=function(){var t=o.context().createBufferSource();t.buffer=this.buffer,t.connect(this.gain),t.start(0)},n=function(t){console.log(t)};return this.loaded?void i.call(this):void this.load(i,e||n)},i.prototype.stop=function(){},i.prototype.pause=function(){},i.prototype.mute=function(){},i.prototype.volume=function(){},window.buzzer=o,window.Buzz=i}(window.AudioContext||window.webkitAudioContext);